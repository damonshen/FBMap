// Generated by CoffeeScript 1.7.1
(function() {
  var getCheckins, getFriends, getPermission, initialize;

  initialize = function() {
    var map, mapOptions;
    mapOptions = {
      center: new google.maps.LatLng(-34.397, 150.644),
      zoom: 8,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    return map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
  };


  /*
  FB.login(
    (response) ->
      console.log response
    {scope: 'email,user_likes'}
  )
   */

  getFriends = function() {
    return FB.api({
      method: 'fql.query',
      query: 'select name from profile where id in (select uid2 from friend where uid1 = me())'
    }, function(response) {
      var data;
      data = JSON.stringify(response);
      data = JSON.parse(data);
      return console.log(data + data.length);
    });
  };

  getCheckins = function() {
    return FB.api({
      method: 'fql.query',
      query: 'select message, description, type, actor_id from stream where source_id in ( SELECT uid2 from friend where uid1 = me()) limit 300'
    }, function(response) {
      var data;
      data = JSON.stringify(response);
      console.log(data);
      data = JSON.parse(data);
      return console.log(data.length);
    });
  };

  getPermission = function() {
    return FB.api('/me/permissions', function(response) {
      var data;
      console.log(response);
      data = JSON.stringify(response);
      return console.log(data);
    });
  };

  $('#get-checkins').click(function() {
    return getCheckins();
  });

}).call(this);
